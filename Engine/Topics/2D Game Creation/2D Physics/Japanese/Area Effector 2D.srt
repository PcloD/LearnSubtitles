1
00:00:02,205 --> 00:00:05,561
Unity ではエフェクターを使うことで特定のエリア内の

2
00:00:05,561 --> 00:00:08,250
2D オブジェクトに対して物理的な力を

3
00:00:08,250 --> 00:00:10,250
働かせることができます

4
00:00:10,250 --> 00:00:12,250
Area Effector 2D はコライド/トリガーが検出された

5
00:00:12,250 --> 00:00:14,250
2D オブジェクトに対して物理的な力を

6
00:00:14,250 --> 00:00:16,250
働かせるコンポーネントです

7
00:00:17,193 --> 00:00:19,193
具体的な使用例としてはたとえば

8
00:00:19,193 --> 00:00:21,193
大きな扇風機がオブジェクトを

9
00:00:21,193 --> 00:00:22,942
特定方向へ吹き飛ばすとか

10
00:00:23,304 --> 00:00:25,304
見下ろし型のドライブゲームで

11
00:00:25,304 --> 00:00:27,304
加速エリアを作るとかいったものが挙げられます

12
00:00:27,304 --> 00:00:29,304
さて  このサンプルシーンにはコインを生み出す

13
00:00:29,304 --> 00:00:31,220
帽子があります

14
00:00:31,220 --> 00:00:33,716
コインのプレハブにはSprite Renderer

15
00:00:33,716 --> 00:00:36,544
Circle Collider そしてRigidbody 2D が

16
00:00:36,544 --> 00:00:38,115
デフォルト値でアタッチされています

17
00:00:38,919 --> 00:00:40,919
落ちてきたコインはまず

18
00:00:40,919 --> 00:00:43,271
ArrowsRight というゲームオブジェクトにアタッチされた

19
00:00:43,271 --> 00:00:45,271
最初の Area Effector 2D に当たります

20
00:00:46,367 --> 00:00:48,367
そしてコライダーに入ると右側に飛ばされていき

21
00:00:48,367 --> 00:00:50,367
続けてゲームオブジェクト ArrowsUpby にアタッチされた

22
00:00:50,367 --> 00:00:52,838
2 番目の Area Effector 2D に当たり

23
00:00:52,838 --> 00:00:54,838
上に吹き飛ばされます

24
00:00:57,459 --> 00:00:59,459
エリアエフェクターは機能させるためには

25
00:00:59,459 --> 00:01:01,459
2D コライダーを持つゲームオブジェクトに

26
00:01:01,459 --> 00:01:03,459
アタッチする必要があります

27
00:01:04,985 --> 00:01:08,657
ArrowsRight にアタッチされている Box Collider 2D の 

28
00:01:08,657 --> 00:01:10,657
Used By Effector フィールドがオンに

29
00:01:10,657 --> 00:01:12,587
設定されているのが見えるでしょうか

30
00:01:12,587 --> 00:01:14,587
このフィールドがオフになっている場合

31
00:01:14,587 --> 00:01:17,573
Area Effector コンポーネントから

32
00:01:17,573 --> 00:01:19,573
「このゲームオブジェクトに有効な 2D コライダーがあり 

33
00:01:19,573 --> 00:01:21,880
Used By Effector がオンになっていないとエフェクターが

34
00:01:21,880 --> 00:01:24,977
機能しません」という内容の警告が表示されます

35
00:01:26,516 --> 00:01:28,516
また Box Collider 2D の

36
00:01:28,516 --> 00:01:30,516
Is Trigger フィールドは

37
00:01:30,516 --> 00:01:32,516
オンでなくてはいけません

38
00:01:33,251 --> 00:01:35,251
これがオンだとオブジェクトはトリガーボリュームに 

39
00:01:35,251 --> 00:01:38,820
入れるようになりその結果エリアエフェクターで

40
00:01:38,834 --> 00:01:42,011
定められた力の影響を受けるようになります

41
00:01:42,817 --> 00:01:46,132
エリアエフェクターはトリガーと組み合わせて使うようにできています

42
00:01:46,132 --> 00:01:48,132
エリアエフェクターをトリガーでないコライダーと 

43
00:01:48,132 --> 00:01:50,437
組み合わせて使うことも不可能ではありませんが

44
00:01:50,437 --> 00:01:52,437
その場合力が適用されるのはターゲットコライダーが

45
00:01:52,437 --> 00:01:55,223
ソースと接触した場合に限られます

46
00:01:56,138 --> 00:01:58,643
オブジェクトがトリガーボリュームに

47
00:01:58,643 --> 00:02:01,252
入った時にどの力が適用されるのかは

48
00:02:01,252 --> 00:02:04,620
Area Effector 2D の設定で指定します

49
00:02:05,508 --> 00:02:07,508
Collider Mask を使うとエフェクターの

50
00:02:07,508 --> 00:02:10,910
及ぼす力を作用させるレイヤーと

51
00:02:10,910 --> 00:02:12,910
作用させないレイヤーを指定できます

52
00:02:13,770 --> 00:02:16,862
レイヤーについての詳細は下記リンク先の情報を参照してください

53
00:02:17,847 --> 00:02:20,515
ここではエフェクターがすべて（Everything）に作用するよう設定されています

54
00:02:21,583 --> 00:02:23,583
Force Direction は力の作用する

55
00:02:23,583 --> 00:02:25,583
方向を 0 ～ 359.99 で

56
00:02:25,583 --> 00:02:30,396
指定するオプションです

57
00:02:30,868 --> 00:02:34,830
359.99 を超える値を指定した場合は

58
00:02:34,830 --> 00:02:39,019
自動的に 359.99 が指定されます

59
00:02:39,019 --> 00:02:41,366
また負の値を指定した場合は

60
00:02:41,366 --> 00:02:43,366
力の作用する方向が

61
00:02:43,366 --> 00:02:45,366
反対方向になります

62
00:02:46,087 --> 00:02:49,985
Force Direction はワールド空間で計算され

63
00:02:49,985 --> 00:02:53,147
反時計回りに増加します

64
00:02:54,243 --> 00:02:56,243
Force Direction を 0 に指定すると

65
00:02:56,243 --> 00:02:59,169
オブジェクトは右に押し出されていき

66
00:02:59,169 --> 00:03:02,490
90 に指定すると上方向へ

67
00:03:02,490 --> 00:03:05,072
180 に指定すると左方向に

68
00:03:05,072 --> 00:03:07,875
270 に指定すると下方向に押されます

69
00:03:08,931 --> 00:03:11,153
なお Force Direction はオブジェクトの

70
00:03:11,153 --> 00:03:13,153
ローカル回転ではなくワールド空間との 

71
00:03:13,153 --> 00:03:15,153
相対位置である点に注意してください

72
00:03:15,930 --> 00:03:17,930
オブジェクトを回転させても

73
00:03:17,930 --> 00:03:20,539
力の作用する方向は変更されません

74
00:03:21,538 --> 00:03:24,143
Force Magnitude はオブジェクトが 

75
00:03:24,143 --> 00:03:26,143
トリガーボリューム内に存在する間に

76
00:03:26,143 --> 00:03:29,072
受け続ける力の大きさを示します

77
00:03:29,793 --> 00:03:33,125
この例では 22 に指定して

78
00:03:33,125 --> 00:03:35,125
次のエフェクターに届くまで

79
00:03:35,125 --> 00:03:38,141
やや弱めに押し出しています

80
00:03:40,152 --> 00:03:43,337
Force Variation は今回は 0 に指定しています

81
00:03:43,337 --> 00:03:45,337
Force Variation は

82
00:03:45,337 --> 00:03:48,792
指定した範囲内でランダムに

83
00:03:48,792 --> 00:03:52,860
作用する力を加算 / 減算します

84
00:03:52,860 --> 00:03:54,860
Force Variation を正の値にすると

85
00:03:54,860 --> 00:03:56,860
作用する力（Force Magnitude）に

86
00:03:56,860 --> 00:04:00,691
0 ～指定値までがランダムに加算されるようになり

87
00:04:00,691 --> 00:04:02,691
負の値を指定した場合は 

88
00:04:02,691 --> 00:04:06,645
0 ～指定値までがランダムに減算されるようになります

89
00:04:08,295 --> 00:04:11,141
さて最初の Area Effector 2D では

90
00:04:11,141 --> 00:04:14,480
Drag と Angular Drag を 0 としました

91
00:04:15,090 --> 00:04:17,090
これら Drag 値を変更するとエフェクターの

92
00:04:17,090 --> 00:04:19,670
トリガーボリュームに入る

93
00:04:19,670 --> 00:04:23,101
2D Rigidbody に対して Drag や Angular Drag を適用できます

94
00:04:23,101 --> 00:04:25,101
Area Effector 2D で指定される 

95
00:04:25,101 --> 00:04:27,101
Drag 係数は  ターゲットオブジェクトの

96
00:04:27,101 --> 00:04:29,530
Rigidbody 2D 設定に

97
00:04:29,530 --> 00:04:32,561
上乗せするかたちで適用されます

98
00:04:33,504 --> 00:04:36,537
ArrowsUp にアタッチされた 2 個めのエフェクターでは

99
00:04:36,537 --> 00:04:38,537
Drag を使って飛んでくるコインの

100
00:04:38,537 --> 00:04:40,980
動きを遅くして受け止め

101
00:04:40,980 --> 00:04:43,506
その後上方向に移動させています

102
00:04:44,242 --> 00:04:46,242
ここで Drag の値を 10 から 0 に

103
00:04:46,242 --> 00:04:48,242
下げてみるとコインの速度が速すぎて

104
00:04:48,242 --> 00:04:51,579
トリガーボリュームの右側へ

105
00:04:51,579 --> 00:04:54,992
突き抜けていってしまいます

106
00:04:59,944 --> 00:05:01,944
Area Effector 2D の Angular Drag と

107
00:05:01,944 --> 00:05:05,840
Force Target パラメーターのしくみを詳しく説明するため

108
00:05:05,840 --> 00:05:07,840
少しシーンを変更してみました

109
00:05:08,242 --> 00:05:11,426
まず 2Planks ゲームオブジェクトを追加

110
00:05:11,426 --> 00:05:14,382
これには Rigidbody 2D がアタッチされ

111
00:05:14,382 --> 00:05:16,382
さらに 2 つの子オブジェクトを持ち

112
00:05:16,382 --> 00:05:18,675
それぞれ Sprite Renderer と

113
00:05:18,675 --> 00:05:20,675
Box Collider 2D がアタッチされています

114
00:05:21,882 --> 00:05:24,855
そして ArrowsRight オブジェクトを複製し

115
00:05:24,855 --> 00:05:26,855
ArrowsRight2 も作りました

116
00:05:28,339 --> 00:05:30,339
ここでシーンを実行してみると

117
00:05:30,339 --> 00:05:32,686
2Planks オブジェクトが

118
00:05:32,686 --> 00:05:35,368
2 個の ArrowsRight エフェクターの上に落ちて

119
00:05:35,368 --> 00:05:36,978
右に運ばれていき

120
00:05:36,978 --> 00:05:39,673
ArrowsUp により上に運ばれていきます

121
00:05:40,394 --> 00:05:43,844
現在 Angular Drag は 0 で

122
00:05:43,844 --> 00:05:45,844
Force Target は Rigidbody です

123
00:05:46,815 --> 00:05:49,209
Force Target が Rigidbody の場合 

124
00:05:49,209 --> 00:05:51,209
力は Rigidbody の質量中心に

125
00:05:51,209 --> 00:05:53,209
作用しますから

126
00:05:53,209 --> 00:05:56,223
回転は発生しません

127
00:05:56,806 --> 00:06:00,482
ここで エリアエフェクターオブジェクト 3 個を選択し

128
00:06:00,482 --> 00:06:03,550
すべての Force Target を Collider に変更して

129
00:06:03,550 --> 00:06:05,550
シーンをもう一度実行してみましょう

130
00:06:06,632 --> 00:06:08,632
Force Target を Colider にしたことで

131
00:06:08,632 --> 00:06:10,632
オブジェクトが回転するようになったのが

132
00:06:10,632 --> 00:06:12,632
確認できますね

133
00:06:13,520 --> 00:06:15,520
Angular Drag の値は

134
00:06:15,520 --> 00:06:18,173
大きくするとオブジェクトの回転を

135
00:06:18,173 --> 00:06:20,963
遅くすることができます

136
00:06:22,392 --> 00:06:24,392
そこで Area Effectors 2D

137
00:06:24,392 --> 00:06:28,646
すべての Angular Drag を 10 に変更すると

138
00:06:29,353 --> 00:06:31,353
回転はなくならないものの

139
00:06:31,353 --> 00:06:35,136
Angular Drag のおかげで最小限に

140
00:06:35,136 --> 00:06:37,136
なっているのが確認できます

141
00:06:37,136 --> 00:06:39,539
エリアエフェクターの詳細については

142
00:06:39,539 --> 00:06:41,539
下記リンク先の情報を参照してください

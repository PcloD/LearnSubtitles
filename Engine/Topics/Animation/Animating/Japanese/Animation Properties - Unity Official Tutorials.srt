1
00:00:00,580 --> 00:00:01,951
Project パネルでモデルを選択した状態では

2
00:00:01,951 --> 00:00:04,227
インスペクターからメッシュや

3
00:00:04,227 --> 00:00:06,931
アニメーションなどのプロパティを

4
00:00:06,931 --> 00:00:09,709
Unity でどう扱わせるか指定できます

5
00:00:10,830 --> 00:00:13,082
それらプロパティは大きく 3 つに分類されます

6
00:00:13,082 --> 00:00:15,955
Model・Rig・Animations です

7
00:00:16,455 --> 00:00:18,455
このレッスンではそのうち

8
00:00:18,455 --> 00:00:20,455
Animations について見ていきます

9
00:00:21,024 --> 00:00:23,024
Animations セクションの最初の項目は

10
00:00:23,024 --> 00:00:25,760
アニメーションをインポートするか否かです

11
00:00:26,260 --> 00:00:29,193
モデル内に格納されているアニメーションを使用するには

12
00:00:29,193 --> 00:00:31,193
この項目をオンにしてください

13
00:00:32,743 --> 00:00:35,399
Bake Animations（アニメーションをベイク）は

14
00:00:35,399 --> 00:00:37,316
対象アニメーションが別のモデリング/アニメーション

15
00:00:37,316 --> 00:00:40,711
プログラムで IK（逆運動学）を使って作成されていて

16
00:00:40,711 --> 00:00:42,711
なおかつ

17
00:00:42,711 --> 00:00:45,853
FK（順運動学）に変換されていない場合に使用します

18
00:00:46,962 --> 00:00:48,343
次に アニメーションの

19
00:00:48,343 --> 00:00:50,398
圧縮方法についての項目があります

20
00:00:50,398 --> 00:00:52,910
デフォルトでは圧縮していませんが

21
00:00:52,910 --> 00:00:55,062
Keyframe Reduction（キーフレーム削減）や

22
00:00:55,062 --> 00:00:56,454
Optimal（最適化）が選択できます

23
00:00:57,438 --> 00:00:59,659
アニメーションの圧縮を選択した場合は

24
00:00:59,659 --> 00:01:01,369
アニメーションの位置・回転・スケールについて

25
00:01:01,369 --> 00:01:04,344
許容するエラーについて決定する必要があります

26
00:01:04,968 --> 00:01:06,968
値は小さくするほど精度が上がりますが

27
00:01:06,968 --> 00:01:09,783
その分圧縮率は下がります

28
00:01:11,305 --> 00:01:13,305
圧縮オプションの下には

29
00:01:13,305 --> 00:01:15,486
モデルから利用できるクリップの

30
00:01:15,486 --> 00:01:17,122
リストが表示されます

31
00:01:17,122 --> 00:01:19,412
これらは + または - アイコンを使って

32
00:01:19,412 --> 00:01:22,005
追加または削除できます

33
00:01:23,390 --> 00:01:25,390
クリップ名の隣には

34
00:01:25,390 --> 00:01:27,804
クリップの開始 / 終了フレームが表示されます

35
00:01:28,304 --> 00:01:31,735
テイク内のクリップを個別に扱うときにはこの項目を使います

36
00:01:32,981 --> 00:01:35,105
いずれかのクリップを選択状態にすると

37
00:01:35,105 --> 00:01:37,105
そのアニメーションクリップに対する

38
00:01:37,105 --> 00:01:39,105
すべてのオプションが利用可能になります

39
00:01:40,972 --> 00:01:43,797
最初のオプションはクリップ名です

40
00:01:43,797 --> 00:01:46,642
ファイルに複数のテイクがある場合は

41
00:01:46,642 --> 00:01:49,295
どのテイクからのクリップかも表示されます

42
00:01:50,803 --> 00:01:53,167
次はアニメーションのタイムラインです

43
00:01:53,621 --> 00:01:55,621
タイムラインではハンドルや

44
00:01:55,621 --> 00:01:57,759
Start / End フィールドを使って

45
00:01:57,759 --> 00:01:59,759
クリップの開始 / 終了フレームを

46
00:01:59,759 --> 00:02:01,759
編集することができます

47
00:02:03,571 --> 00:02:05,433
そして開始 / 終了フレーム制御の下が

48
00:02:05,433 --> 00:02:06,831
ループ制御です

49
00:02:07,574 --> 00:02:09,823
まず Loop Time をオンにすると

50
00:02:09,823 --> 00:02:11,616
アニメーションの再生が終わった時

51
00:02:11,616 --> 00:02:13,616
再び最初から再生が始まります

52
00:02:14,710 --> 00:02:17,181
Loop Pose をオンにすると Unity が自動的に

53
00:02:17,181 --> 00:02:19,979
開始ポーズと終了ポーズを合わせて

54
00:02:19,979 --> 00:02:22,819
クリップのループを滑らかにします

55
00:02:24,344 --> 00:02:26,635
Cycle Offset はクリップの開始と終了の

56
00:02:26,635 --> 00:02:28,635
タイミングを調整するオプションです

57
00:02:29,370 --> 00:02:31,660
これはアニメーションのミラーリング時に使います

58
00:02:32,050 --> 00:02:34,464
たとえば走るクリップをミラーリング

59
00:02:34,464 --> 00:02:37,051
する場合オフセットを 0.5 にしておくと

60
00:02:37,051 --> 00:02:41,022
片方の足だけが地面に着くようになるわけです

61
00:02:42,171 --> 00:02:44,479
Root Transform Rotation は

62
00:02:44,479 --> 00:02:46,854
アニメーションの回転がアバターに

63
00:02:46,854 --> 00:02:48,854
与える影響に関係します

64
00:02:49,534 --> 00:02:52,146
Root Transform Rotation の

65
00:02:52,146 --> 00:02:54,852
Bake Into Pose がオンになっているとアバターは

66
00:02:54,852 --> 00:02:58,187
アニメーションがターンしても回転しなくなくなります

67
00:02:59,225 --> 00:03:01,432
このオプションはまっすぐ走る

68
00:03:01,432 --> 00:03:03,597
場合などに使うと

69
00:03:03,597 --> 00:03:05,597
少しずれるようなことがあっても

70
00:03:05,597 --> 00:03:07,597
影響を受けずに済みます

71
00:03:08,815 --> 00:03:11,190
なお Root Transform Rotation は

72
00:03:11,190 --> 00:03:13,190
アニメーション開始時のボディの向き（Body Orientation）か

73
00:03:13,190 --> 00:03:16,473
アニメーションのオリジナルソースファイルの向き（Original）か

74
00:03:16,473 --> 00:03:18,473
指定できます

75
00:03:18,473 --> 00:03:20,709
Body Orientation を選択した場合は

76
00:03:20,709 --> 00:03:23,137
上半身が前を向きます

77
00:03:24,466 --> 00:03:27,021
Offset はアニメーションの方向を

78
00:03:27,021 --> 00:03:29,021
微調整するときに使用します

79
00:03:30,239 --> 00:03:32,239
次のオプションは Root Transform の

80
00:03:32,239 --> 00:03:35,295
Y 軸位置に関するものです

81
00:03:36,327 --> 00:03:40,057
Root Transform Rotation と同様

82
00:03:40,057 --> 00:03:42,917
Bake Into Pose をオンにするとアバターが

83
00:03:42,917 --> 00:03:45,750
アニメーション中に上がったり下がったりしなくなります

84
00:03:47,295 --> 00:03:49,295
位置のベースとなるオプションは

85
00:03:49,295 --> 00:03:51,295
複数個あります

86
00:03:52,085 --> 00:03:54,419
Original は Y 軸位置を

87
00:03:54,419 --> 00:03:56,186
ソースファイルから取得します

88
00:03:56,186 --> 00:03:58,476
それ以外の場合はアバターの

89
00:03:58,476 --> 00:04:02,295
質量中心（Center of Mass）または足の位置から取得します

90
00:04:03,085 --> 00:04:05,528
ここでも Offset を使うと

91
00:04:05,528 --> 00:04:08,265
Y 軸の動きを微調整できます

92
00:04:09,630 --> 00:04:12,671
Root Transform Position XZ は

93
00:04:12,671 --> 00:04:15,811
Y 軸のオプションと似たような働きをしますが

94
00:04:15,811 --> 00:04:17,631
こちらはアバター移動の水平方向に

95
00:04:17,631 --> 00:04:19,631
作用する点が異なります

96
00:04:20,835 --> 00:04:23,735
Baking Into Pose は XZ 平面での

97
00:04:23,735 --> 00:04:25,735
移動を制限します

98
00:04:27,133 --> 00:04:29,691
これはオリジナルファイルまたは質量中心の

99
00:04:29,691 --> 00:04:31,691
いずれかをベースとします

100
00:04:33,227 --> 00:04:35,392
タイムラインのハンドルを使ってアニメーションを

101
00:04:35,392 --> 00:04:38,317
調節するとき各プロパティの下にはグラフが

102
00:04:38,317 --> 00:04:40,206
表示されクリップをループした時の

103
00:04:40,206 --> 00:04:42,206
マッチ具合を確認することが

104
00:04:42,206 --> 00:04:44,206
できます

105
00:04:44,927 --> 00:04:47,318
このマッチ具合はプロパティごとに

106
00:04:47,318 --> 00:04:49,318
信号機のようなライトで

107
00:04:49,318 --> 00:04:50,807
示されます

108
00:04:50,807 --> 00:04:52,807
それぞれ緑は良いループ

109
00:04:52,807 --> 00:04:54,545
黄色は悪くないループ

110
00:04:54,545 --> 00:04:56,545
赤は良くないループを示します

111
00:04:57,611 --> 00:04:59,295
編集しているアニメーションクリップによっては

112
00:04:59,295 --> 00:05:02,353
良いループである必要性は

113
00:05:02,353 --> 00:05:04,353
変わります

114
00:05:04,353 --> 00:05:07,480
たとえば歩きのアニメーションであれば

115
00:05:07,480 --> 00:05:10,034
ポーズのループはきれいなほうがいいですが

116
00:05:10,034 --> 00:05:12,034
おそらく Transform Position XZ は

117
00:05:12,034 --> 00:05:14,297
ループさせないでしょう

118
00:05:15,957 --> 00:05:17,957
Mirror をオンにすると

119
00:05:17,957 --> 00:05:21,288
アニメーションが左右反転されます

120
00:05:23,178 --> 00:05:25,855
アバターマスクやアニメーションカーブと

121
00:05:25,855 --> 00:05:28,522
イベントオプションの詳細については

122
00:05:28,522 --> 00:05:30,838
下記リンク先にあるレッスンをご覧ください

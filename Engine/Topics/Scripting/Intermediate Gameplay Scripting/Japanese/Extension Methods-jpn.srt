1
00:00:00,249 --> 00:00:02,395
Extension メソッドは 事前に適切な型を作成しておいたり

2
00:00:02,395 --> 00:00:04,506
元の型を変更したりすることなく型を

3
00:00:04,506 --> 00:00:06,186
拡張する方法として使えます

4
00:00:06,744 --> 00:00:08,744
これは編集できないクラスに機能を

5
00:00:08,744 --> 00:00:12,060
追加したい場合などにぴったりです

6
00:00:12,060 --> 00:00:13,895
たとえば Transform クラスは Unity ビルトインなので

7
00:00:13,895 --> 00:00:16,892
ソースコードを変更することができませんが

8
00:00:17,392 --> 00:00:19,392
位置・回転・スケールの情報を簡単に

9
00:00:19,392 --> 00:00:21,584
リセットする方法を追加したい場合などが

10
00:00:21,584 --> 00:00:23,584
これに当たります

11
00:00:23,584 --> 00:00:25,486
この機能を格納する場所として理想的なのは

12
00:00:25,486 --> 00:00:28,596
Transform クラスですが このクラスに追加することはできませんし

13
00:00:28,596 --> 00:00:30,347
この関数を派生クラスとして作るのも合理的でないので

14
00:00:30,347 --> 00:00:33,019
拡張（Extension）を作ることにします

15
00:00:33,809 --> 00:00:37,645
Extension メソッドは generic でない static クラスに格納する必要があります

16
00:00:37,645 --> 00:00:40,675
格納するためのクラスを作ってその中に格納するのが一般的です

17
00:00:41,175 --> 00:00:44,076
Extension メソッドはインスタンスメソッドのように使われますが

18
00:00:44,076 --> 00:00:46,282
static と宣言されています

19
00:00:46,282 --> 00:00:48,282
関数と拡張メソッドの違いは 

20
00:00:48,282 --> 00:00:50,282
拡張メソッドではパラメーターに

21
00:00:50,282 --> 00:00:52,795
this キーワードが使われる点です

22
00:00:53,295 --> 00:00:55,295
この例ではまず static クラス

23
00:00:55,295 --> 00:00:57,583
ExtensionMethods を作成し

24
00:00:57,583 --> 00:00:59,583
続いてその中に Extension メソッド

25
00:00:59,583 --> 00:01:01,721
ResetTransformation を作成します

26
00:01:01,721 --> 00:01:04,027
このメソッドは static と宣言されていますね

27
00:01:04,027 --> 00:01:06,027
そして最初のパラメーターに

28
00:01:06,027 --> 00:01:08,717
this キーワード そして Transform クラス 続けて

29
00:01:08,717 --> 00:01:10,924
任意のパラメーター名となっています

30
00:01:10,924 --> 00:01:13,144
なお最初のパラメーターが呼び出し元

31
00:01:13,144 --> 00:01:15,144
オブジェクトとなるため呼び出し時に指定する 

32
00:01:15,144 --> 00:01:16,502
必要はありません

33
00:01:16,502 --> 00:01:19,013
また最初のパラメーターはこのメソッドが

34
00:01:19,013 --> 00:01:21,013
属するクラスも決定します

35
00:01:21,361 --> 00:01:23,097
複数個のパラメーターを指定したい場合は

36
00:01:23,097 --> 00:01:26,161
this キーワードを省いてここで指定できます

37
00:01:26,799 --> 00:01:28,799
ではこのメソッド内に Transform をリセットするコードを

38
00:01:28,799 --> 00:01:30,799
書いていきましょう

39
00:01:32,708 --> 00:01:34,611
なおこの関数の宣言にはパラメーターがありますが

40
00:01:34,611 --> 00:01:37,028
呼び出された時には何も取らないことに

41
00:01:37,028 --> 00:01:38,570
注意してください

42
00:01:38,570 --> 00:01:40,570
パラメーターは指定しなくとも Transform のインスタンスとなります

43
00:01:42,642 --> 00:01:44,932
この Extension メソッドは拡張したクラスの

44
00:01:44,932 --> 00:01:46,835
メンバーを検索するだけで使えます

45
00:01:46,835 --> 00:01:49,055
この場合は Transform を拡張しているので

46
00:01:49,055 --> 00:01:51,055
メソッドが Transform クラスの

47
00:01:51,055 --> 00:01:53,443
一部として表示されます

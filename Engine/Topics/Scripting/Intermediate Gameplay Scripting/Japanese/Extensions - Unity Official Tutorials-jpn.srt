1
00:00:00,262 --> 00:00:02,417
Extension メソッドは 事前に適切な型を作成しておいたり

2
00:00:02,417 --> 00:00:04,417
派生型を変更したりすることなく型を

3
00:00:04,417 --> 00:00:06,195
拡張する方法として使えます

4
00:00:06,778 --> 00:00:08,778
これは編集できないクラスに機能を

5
00:00:08,778 --> 00:00:11,713
追加したい場合などにぴったりです

6
00:00:12,075 --> 00:00:14,075
たとえば Transform クラスは Unity ビルトインなので

7
00:00:14,075 --> 00:00:17,359
ソースコードを変更することができませんが

8
00:00:17,359 --> 00:00:19,359
位置・回転・スケールの情報を簡単に

9
00:00:19,359 --> 00:00:21,359
リセットする方法を追加したい場合などが

10
00:00:21,359 --> 00:00:23,359
これに当たります

11
00:00:23,359 --> 00:00:25,359
この機能を格納する場所として理想的なのは

12
00:00:25,359 --> 00:00:27,359
Transform クラスですが このクラスに追加することは

13
00:00:27,359 --> 00:00:29,359
できませんしこの関数を派生クラスとして

14
00:00:29,359 --> 00:00:31,359
作るのも合理的でないので

15
00:00:31,359 --> 00:00:33,359
拡張（Extension）を作ることにします

16
00:00:33,859 --> 00:00:35,594
Extension メソッドは generic でない static クラスに

17
00:00:35,594 --> 00:00:37,594
格納する必要があります

18
00:00:37,594 --> 00:00:39,594
格納するためのクラスを作ってその中に

19
00:00:39,594 --> 00:00:41,164
格納するのが一般的です

20
00:00:41,164 --> 00:00:43,164
Extension メソッドはインスタンスメソッドのように使われますが

21
00:00:43,164 --> 00:00:46,234
static と宣言されています

22
00:00:46,234 --> 00:00:48,234
関数と拡張メソッドの違いは

23
00:00:48,234 --> 00:00:50,234
拡張メソッドではパラメーターに

24
00:00:50,234 --> 00:00:52,872
this キーワードが使われる点です

25
00:00:53,303 --> 00:00:55,303
この例ではまず static クラス

26
00:00:55,303 --> 00:00:57,579
ExtensionMethods を作成し

27
00:00:57,579 --> 00:00:59,579
続いてその中に Extension メソッド

28
00:00:59,579 --> 00:01:01,579
ResetTransformation を作成します

29
00:01:01,579 --> 00:01:03,941
このメソッドは static と宣言されていますね

30
00:01:03,941 --> 00:01:05,941
そして最初のパラメーターに

31
00:01:05,941 --> 00:01:08,198
this キーワード そして Transform クラス 続けて

32
00:01:08,198 --> 00:01:10,803
任意のパラメーター名となっています

33
00:01:10,803 --> 00:01:13,172
なお最初のパラメーターが呼び出し元

34
00:01:13,172 --> 00:01:15,172
オブジェクトとなるため呼び出し時に指定する

35
00:01:15,172 --> 00:01:16,529
必要はありません

36
00:01:16,529 --> 00:01:18,994
また最初のパラメーターはこのメソッドが

37
00:01:18,994 --> 00:01:21,265
属するクラスも決定します

38
00:01:21,265 --> 00:01:23,265
複数個のパラメーターを指定したい場合は

39
00:01:23,265 --> 00:01:26,276
this キーワードを省いてここで指定できます

40
00:01:26,776 --> 00:01:28,776
ではこのメソッド内に Transform をリセットするコードを

41
00:01:28,776 --> 00:01:30,776
書いていきましょう

42
00:01:32,612 --> 00:01:34,612
なおこの関数の宣言にはパラメーターがありますが

43
00:01:34,612 --> 00:01:36,948
呼び出された時には何も取らないことに

44
00:01:36,948 --> 00:01:38,596
注意してください

45
00:01:38,596 --> 00:01:40,596
パラメーターは指定しなくとも

46
00:01:40,596 --> 00:01:42,596
Transform のインスタンスとなります

47
00:01:42,596 --> 00:01:44,596
この Extension メソッドは

48
00:01:44,596 --> 00:01:46,596
拡張したクラスのメンバーを

49
00:01:46,596 --> 00:01:48,079
検索するだけで使えます

50
00:01:48,079 --> 00:01:50,079
この場合は Transform を拡張しているので

51
00:01:50,079 --> 00:01:53,623
メソッドが Transform クラスの一部として表示されます
